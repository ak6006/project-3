@model project_3.Models.OrderVehicleViewModel

@{
    ViewBag.Title = "Index";
}


    <div class="page-container">
        @if (TempData["Msg"] != null)
        {


            <div id="msg" style="text-align:center; background-color:lightcoral" class="col-md-5  rounded offset-3 p-2 text-danger">
                <div class="col-md-3">

                </div>
                <h3>
                    @TempData["Msg"]
                </h3>
            </div>


        }

        <div class="d-flex flex-row-reverse mb-5 mt-2 mr-2 justify-content-center">
            <h1 class="text-light">
                عرض
            </h1>
        </div>



        @using (Html.BeginForm("Transport2", "TransOrder", FormMethod.Post))
        {
            @Html.AntiForgeryToken()

            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    @Html.TextBoxFor(m => m.BarCode, new { @id= "SerialTextBox", @Class = "form-control" })
                    @*<input name="BarCode" class="form-control" />*@
                    <span id="" class="col-md-4 text-light">
                        باركود
                    </span>
                </div>

            </div>
            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    @Html.HiddenFor(m => m.CName, new { @Class = "form-control" })
                    @*<input name="BarCode" class="form-control" />*@
                    <span class="col-md-4 text-light">
                        @*اسم الوكيل*@
                    </span>
                </div>

            </div>

            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    @Html.HiddenFor(m => m.DName, new { @Class = "form-control" })
                    @*<input name="BarCode" class="form-control" />*@
                    <span class="col-md-4 text-light">
                        @*اسم السائق*@
                    </span>
                </div>

            </div>
            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    @Html.HiddenFor(m => m.OId, new { @Class = "form-control" })
                    @*<input name="BarCode" class="form-control" />*@
                    <span class="col-md-4 text-light">
                        @*رقم الطلبيه*@
                    </span>
                </div>

            </div>
            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    @Html.HiddenFor(m => m.All, new { @Class = "form-control" })
                    @*<input name="BarCode" class="form-control" />*@
                    <span class="col-md-4 text-light">
                        @*الشكاير*@
                    </span>
                </div>

            </div>

            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    @Html.HiddenFor(m => m.Remaining, new { @Class = "form-control" })
                    @*<input name="BarCode" class="form-control" />*@
                    <span class="col-md-4 text-light">
                        @*المتبقى*@
                    </span>
                </div>

            </div>
            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    @Html.HiddenFor(m => m.Counter, new { @Class = "form-control" })
                    @*<input name="BarCode" class="form-control" />*@
                    <span class="col-md-4 text-light">
                        @*Counter*@
                    </span>
                </div>

            </div>

            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    @Html.HiddenFor(m => m.PId, new { @Class = "form-control" })
                    @*<input name="BarCode" class="form-control" />*@
                    <span class="col-md-4 text-light">
                        @*رقم المنتج*@
                    </span>
                </div>

            </div>
            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    @Html.HiddenFor(m => m.WId, new { @Class = "form-control" })
                    @*<input name="BarCode" class="form-control" />*@
                    <span class="col-md-4 text-light">
                        @*رقم الوزن*@
                    </span>
                </div>

            </div>

            <div class="d-flex flex-row-reverse mb-2 justify-content-center">
                <div class="d-flex col-md-4">
                    <button hidden type="submit" class="text-light btn-success btn form-control">
                        <span><i class="fas fa-user-plus fa-lg"></i></span>
                        &nbsp;&nbsp;&nbsp;
                        تحميل
                    </button>
                    <span class="col-md-4 text-light">
                    </span>
                </div>
            </div>
        }
        
        <table class="table table-hover border-bottom border-light border-5">
            <tr class=" text-light">

                <th>عدد الشكاير المتبقيه</th>
                <th>عدد الشكاير</th>
                <th>اسم السائق</th>
                <th>اسم الوكيل</th>
                <th>رقم الطلبيه</th>

            </tr>

            <tr class=" text-light">
                <td>@Model.Remaining</td>
                <td>@Model.All</td>
                <td>@Model.DName</td>
                <td>@Model.CName</td>
                <td>@Model.OId</td>

            </tr>

        </table>
    </div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
<script type="text/javascript">
    setTimeout(function () {
        $('#msg').remove();
    }, 5000);

    $(document).ready(function () {
        $("#Result").load("@Url.Action("GetProducts", "StoreProduct")",
            function (response, status, xhr) {
                if (status == "error") {
                    $("#Result").text = "An error occurred while loading the results.";
                }
            });
    });

    function func()
    {
        $('#SerialTextBox').focus();
    }
    $(document).ready($(function () { setInterval(func, 1) }));
</script>
